<md-content>

<div layout="row" ng-show="responseReceived">
    <md-card class="podcast-detail-card" flex-offset="5" flex="90"><md-content>

      <span layout="row">

        <md-card-title flex="50">

          <md-card-title-text>
            <span class="md-headline">
              {{ podcast.name }}
              <rating rate="avgRating" interactive="false" ng-show="ratingReceived"></rating>
            </span>
          </md-card-title-text>

        </md-card-title>

        <md-card-actions flex="50">

          <span layout="row" layout-align="end start">
            <md-button class="md-raised md-primary" 
              ui-sref="add-episode">Add Episode</md-button>
          </span>

        </md-card-actions>

      </span>

      <md-content layout="row" ng-show="responseReceived">
        <md-tabs md-dynamic-height md-border-bottom flex="100">
          <md-tab label="Description">
            <md-content class="md-padding">

              {{ podcast.description }}

            </md-content>
          </md-tab>
          <md-tab ng-attr-label="{{ 'Episodes (' + numEpisodes + ')' }}">
            <md-content class="md-padding">

             <div layout="row" ng-repeat="episode in episodes">
                <md-card class="podcast-episode-card">

                    <md-card-title>

                      <md-card-title-text>
                        <span class="md-headline">Episode {{ episode._source.number}} - {{ episode._source.name }}</span>
                      </md-card-title-text>
                      
                    </md-card-title>

                    <md-card-content ng-bind-html="episode._source.description">
                    </md-card-content>

                    <md-card-actions layout="row" layout-align="end center">
                      <md-button class="md-raised md-primary" 
                        ui-sref="episodes({ episodeId: episode._id })">View</md-button>
                    </md-card-actions>

                </md-card>
              </div>

            </md-content>
          </md-tab>
          <md-tab ng-attr-label="{{ 'Reviews (' + numReviews + ')' }}">
            <md-content class="md-padding">

             <div layout="row" ng-repeat="review in reviews">
                <md-card class="podcast-review-card">

                    <md-card-title>
                      
                      
                      <md-card-title-text>
                        <span class="md-headline">{{ review._source.userName }}</span>
                        <span class="md-headline">
                          <rating rate="review._source.rating" interactive="false"></rating>
                        </span>
                      </md-card-title-text>
                      
                    </md-card-title>

                    <md-card-content ng-bind-html="review._source.content">
                    </md-card-content>

                </md-card>
              </div>

            </md-content>
          </md-tab>
        </md-tabs>
      </md-content>

  </md-card>
</div>

</md-content>